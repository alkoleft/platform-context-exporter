# platform-context-exporter

Консольное приложение для экспорта информации о контексте платформы 1С:Предприятие (BSL) из файла справки `shcntx_ru.hbk` в форматы JSON, XML, Markdown и `context` для использования с LLM.

## Обзор

Приложение `platform-context-exporter` предназначено для разработчиков, работающих с языком BSL (Business Specific Language) и экосистемой 1С:Предприятие. Оно позволяет извлечь структурированную информацию о глобальных свойствах, глобальных методах и типах платформы, которая содержится в стандартном файле справки `shcntx_ru.hbk`. Эта информация экспортируется в файлы, которые могут быть использованы для различных целей, таких как:

*   Предоставление контекста для больших языковых моделей (LLM) с помощью формата `context`.
*   Автодополнение кода в IDE и редакторах.
*   Анализ структуры платформы.
*   Интеграция с другими инструментами разработки.

Проект использует Picocli для создания удобного CLI-интерфейса.

## Сборка

Проект собирается с помощью Gradle. Для сборки выполните следующую команду в корневой директории проекта:

```bash
./gradlew build
```

После успешной сборки исполняемый JAR-файл будет находиться в директории `build/libs/`.

## Использование

Приложение запускается из командной строки. Основная команда — `platform`.

```bash
java -jar platform-context-exporter-<версия>.jar platform <путь_к_shcntx_ru_hbk_dir> <путь_к_выходной_директории>
```

**Аргументы:**

*   `platform`: Основная команда для запуска экспорта.
*   `<путь_к_shcntx_ru_hbk_dir>`: Обязательный параметр. Путь к директории, в которой находится файл справки `shcntx_ru.hbk`. Приложение будет искать этот файл внутри указанной директории (включая поддиректории).
*   `<путь_к_выходной_директории>`: Обязательный параметр. Путь к директории, в которую будут сохранены сгенерированные файлы. Если директория не существует, она будет создана.

**Опции:**

*   `--format <формат>`: Задает формат выходных файлов. Возможные значения:
    *   `json` (по умолчанию): Экспорт в файлы JSON.
    *   `xml`: Экспорт в файлы XML.
    *   `markdown`: Экспорт в файлы формата Markdown.
    *   `context`: Экспорт в файлы формата `context` для LLM.

**Пример:**

```bash
java -jar platform-context-exporter-0.1.0.jar platform /path/to/onec/help/ /output/context/ --format context
```

## Форматы вывода

Подробное описание форматов вывода и структуры генерируемых файлов вынесено в [отдельную документацию](./documentation/formats.md).

## Зависимости

Основные зависимости проекта:

*   Spring Boot
*   Picocli (для CLI)
*   Jackson (для работы с JSON)
*   [bsl-context](https://github.com/1c-syntax/bsl-context) (от [1c-syntax](https://github.com/1c-syntax/))
*   [bsl-help-toc-parser](https://github.com/1c-syntax/bsl-help-toc-parser) (от [1c-syntax](https://github.com/1c-syntax/)) для парсинга `shcntx_ru.hbk`
*   Lombok

## Лицензия

Этот проект распространяется под лицензией MIT. Подробную информацию смотрите в файле [LICENSE](LICENSE).